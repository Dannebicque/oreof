{% for blocCompetence in bloc_competences %}
    <div class="row mt-2">
        <div class="col-8">
            {{ blocCompetence.code }} - {{ blocCompetence.libelle }}
        </div>
        <div class="col-4">
            <button
                    {{ stimulus_controller('modal', {
                        size: 'lg',
                        modalTitle: 'Modifier un bloc de compétences',
                        modalUrl: path('app_bloc_competence_edit',{'id': blocCompetence.id}) }) }}
                    data-action="click->modal#openModal"
                    class="btn btn-sm text-warning"
                    data-size="lg"
                    data-bs-toggle="tooltip"
                    data-bs-placement="bottom"
                    title="Modifier un bloc de compétences"
            >
                <i class="{{ iconEdit }}"></i>
                <span> modifier</span>
            </button>

            <button {{ stimulus_action('parcours--step3', 'duplicate', 'click', {
                url:path('app_bloc_competence_duplicate',{'id': blocCompetence.id})
            }) }} class="btn btn-sm text-success">
                <i class="{{ iconDuplicate }}"></i> Dupliquer
            </button>
            <button {{ stimulus_action('parcours--step3', 'delete', 'click', {
                url:path('app_bloc_competence_delete',{'id': blocCompetence.id}),
                csrf: csrf_token('delete' ~ blocCompetence.id)
            }) }} class="btn btn-sm text-danger">
                <i class="{{ iconDelete }}"></i> Supprimer
            </button>
        </div>
        <div class="col-12">

            {% for competence in blocCompetence.competences %}
                <div class="row hoverable">
                    <div class="col-1">
                        &nbsp;
                    </div>
                    <div class="col-7">
                        {{ competence.code }} - {{ competence.libelle }}
                    </div>
                    <div class="col-4">
                        <button
                                {{ stimulus_controller('modal', {
                                    size: 'lg',
                                    modalTitle: 'Modifier une compétence',
                                    modalUrl: path('app_competence_edit',{'id': competence.id}) }) }}
                                data-action="click->modal#openModal"
                                class="btn btn-sm text-warning"
                                data-size="lg"
                                data-bs-toggle="tooltip"
                                data-bs-placement="bottom"
                                title="Modifier une compétence"
                        >
                            <i class="{{ iconEdit }}"></i>
                            <span> modifier</span>
                        </button>

                        <button {{ stimulus_action('parcours--step3', 'duplicate', 'click', {
                            url:path('app_competence_duplicate',{'id': competence.id})
                        }) }} class="btn btn-sm text-success">
                            <i class="{{ iconDuplicate }}"></i> Dupliquer
                        </button>
                        <button {{ stimulus_action('parcours--step3', 'delete', 'click', {
                            url:path('app_competence_delete',{'id': competence.id}),
                            csrf: csrf_token('delete' ~ competence.id)
                        }) }} class="btn btn-sm text-danger">
                            <i class="{{ iconDelete }}"></i> Supprimer
                        </button>
                    </div>
                </div>
            {% endfor %}


            <button
                    {{ stimulus_controller('modal', {
                        size: 'lg',
                        modalTitle: 'Ajouter une compétence dans le bloc de compétence '~
                        blocCompetence.libelle,
                        modalUrl: path('app_competence_new', {bcc:blocCompetence.id}) }) }}
                    data-action="click->modal#openModal"
                    class="btn btn-sm btn-outline-success btn-icon btn-icon-end w-100 w-sm-auto mx-2"
                    data-size="lg"
                    data-bs-toggle="tooltip"
                    data-bs-placement="bottom"
                    title=" Ajouter une compétence dans le bloc de compétence
                {{ blocCompetence.libelle }}"
            >
                <i class="{{ iconAdd }}"></i>
                Ajouter une compétence dans le bloc de compétence
                {{ blocCompetence.libelle }}
            </button>
        </div>
    </div>
{% endfor %}

<turbo-frame id="tab-content">
    {{ include('parcours_v2/tabs/_header.html.twig', {tabKey: 'maquette'}) }}

    <div class="flex-1 overflow-y-auto mt-4 custom-scrollbar">
        {% form_theme form 'communs/form_theme_v2.html.twig' %}
        {{ form_start(form, {
            attr: {
                id: 'tab_form_maquette',
                'data-controller': 'autosave',
                'data-autosave-url-value': path('parcours_v2_tab_autosave', { id: parcours.id, tabKey: 'maquette' }),
                'data-action': 'change->autosave#queue'

            }
        }) }}

        {{ form_widget(form) }}
        {{ form_end(form) }}

        {% if tabStates['maquette'] is defined and tabStates['maquette'].done == true %}
            <twig:alerte type="warning"
                         message="Cette opération permet de générer la structure (créer les semestres) selon les semestres indiquez ci-dessus. Attention, si une structure existe déjà elle sera mise à jour."></twig:alerte>
            {# todo: gérer un confirm ? #}
            <twig:Button
                    href="{{ path('parcours_structure_genere', {parcours: parcours.id}) }}"
                    submitLabel="Générer la structure"></twig:Button>
        {% endif %}
    </div>
</turbo-frame>


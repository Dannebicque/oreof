{% extends 'base.html.twig' %}

{% block title %}Parcours{% endblock %}

{% block content %}
    {% if is_granted('CAN_PARCOURS_VALIDATE_MY') %}
        {{ component('mention_manage', {parcours:parcours, type:'parcours'}) }}
    {% endif %}

    <div class="row">
        {{ include('typeDiplome/parcours/common/_licence.html.twig') }}
        <!-- Scrollspy Start -->
        <div class="col-md-auto d-none d-lg-block" id="scrollSpyMenu">
            <ul class="nav flex-column">
                <li>
                    <a class="nav-link p-2" href="#identite_formation">
                        <i class="fal fa-chevron-right"></i>
                        Identité de la formation
                    </a>
                </li>

                <li>
                    <a class="nav-link p-2" href="#presentation_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Présentation
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#descriptif_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Descriptif de la formation
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#localisation_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Localisation
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#competences_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Compétences Acquises
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#structure_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Structure
                    </a>
                </li>


                <li>
                    <a class="nav-link p-2" href="#admission_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Admission
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#inscription_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Inscription
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#et_apres_{{ parcours.id }}">
                        <i class="fal fa-chevron-right"></i>
                        Et après...
                    </a>
                </li>
                <li>
                    <a class="nav-link p-2" href="#contacts_{{ parcours.id }}">
                        <i class="fal fa-chevron-right text-start"></i>
                        Contacts pédagogiques
                    </a>
                </li>
            </ul>
        </div>
        <!-- Scrollspy End -->
    </div>
{% endblock %}

{% block header %}
    Détail du parcours : {{ parcours.libelle }}
{% endblock %}

{% block breadcrumb %}
    {{ include('communs/_breadcrumb.html.twig', {liens:[
        {href: path('app_formation_index'), title: 'Liste des formations'},
        {href: path('app_formation_show', {slug:formation.slug}), title:'Formation :  ' ~ formation.display},
    ]}) }}
{% endblock %}

{% block bouton_header %}

    <div class="btn-group">
        <button type="button" class="btn btn-sm btn-outline-info btn-icon btn-icon-end w-100 w-sm-auto mx-2 dropdown-toggle mb-1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="{{ iconDownload }}"></i>  MCCC (xlsx)
        </button>
        <div class="dropdown-menu" style="">
            <a class="dropdown-item" href="{{ path('app_parcours_mccc_export', {parcours:parcours.id, _format:'xlsx'}) }}">
                Version complète
            </a>
            <a class="dropdown-item" href="{{ path('app_parcours_mccc_export_light', {parcours:parcours.id, _format:'xlsx'}) }}">Version simplifiée</a>
        </div>
    </div>

    <div class="btn-group">
        <button type="button" class="btn btn-sm btn-outline-info btn-icon btn-icon-end w-100 w-sm-auto mx-2 dropdown-toggle mb-1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="{{ iconDownload }}"></i>  BCC
        </button>
        <div class="dropdown-menu" style="">
            <a class="dropdown-item" href="{{ path('app_parcours_bcc', {parcours:parcours.id} }}">
                Voir en ligne
            </a>
            <a class="dropdown-item" href="{{ path('app_competence_export_bcc', {parcours:parcours.id}) }}">
                Export des BCC (pdf)
            </a>
            <a class="dropdown-item" href="{{ path('app_competence_export_croise', {parcours:parcours.id}) }}">
                Export du tableau croisé BCC/EC (pdf)
            </a>
        </div>
    </div>

    <a href="{{ path('app_parcours_export', {parcours:parcours.id}) }}"
       class="btn btn-sm btn-outline-info btn-icon btn-icon-end w-100 w-sm-auto mx-2"
       data-bs-toggle="tooltip"
       data-bs-placement="bottom"
       title="Télécharger en PDF"
    >
        <i class="{{ iconDownload }}"></i>
        <span> Télécharger en PDF</span>
    </a>
{% endblock %}

<tr>
    <th>&nbsp;</th>
    {% if ue.ueRaccrochee != null %}
        {% set ue = ue.ueRaccrochee.ue %}
    {% endif %}
    <th colspan="3">{{ ue.display(parcours) }} | {{ ue.libelle }}</th>
    {% if presentiel %}
        <th colspan="4">Présentiel</th>
    {% endif %}
    {% if distanciel %}
        <th colspan="4">Distanciel</th>
    {% endif %}
    {% if parcours.modalitesEnseignement != null and (parcours.modalitesEnseignement.value == 1) %}
        <th>Total</th>
    {% endif %}
</tr>
<tr>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
    <th>Fiche EC/Matière</th>
    <th>ECTS</th>

    {% if presentiel %}
        <th>CM</th>
        <th>TD</th>
        <th>TP</th>
        <th>Total Prés.</th>
    {% endif %}

    {% if distanciel %}
        <th>CM</th>
        <th>TD</th>
        <th>TP</th>
        <th>Total Dis.</th>
    {% endif %}

    {% if parcours.modalitesEnseignement != null and (parcours.modalitesEnseignement.value == 1) %}
        <th>Total</th>
    {% endif %}
</tr>

{% for ec in ue.elementConstitutifs|filter(ec => ec.ecParent == null) %}
    {{ include('typeDiplome/formation/_structureEc.html.twig', {ec:ec}) }}
    {% for ece in ec.ecEnfants %}
        {{ include('typeDiplome/formation/_structureEc.html.twig', {ec:ece}) }}
    {% endfor %}
{% endfor %}
<tr>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
    <th class="text-end">Total</th>

    <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeEcts }}</th>
    {% if presentiel %}
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeCmPres }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTdPres }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTpPres }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTotalPres }}</th>
    {% endif %}

    {% if distanciel %}
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeCmDist }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTdDist }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTpDist }}</th>
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTotalDist }}</th>
    {% endif %}

    {% if parcours.modalitesEnseignement != null and (parcours.modalitesEnseignement.value == 1) %}
        <th>{{ dto.semestres[semestreParc.id].ues[ue.id].sommeUeTotalPresDist }}</th>
    {% endif %}
</tr>
{% for ueE in ue.ueEnfants %}
    {{ include('typeDiplome/formation/_structureUe.html.twig', {ue:ueE}) }}
{% endfor %}

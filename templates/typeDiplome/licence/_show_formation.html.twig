{% set print = false %}
<div class="col">
    <section
            data-scroll-spy-target="section"
            class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
            id="identite_formation">
        {{ include('communs/_header_show.html.twig', {
            title: 'Identité de la formation',
            icon: 'fa-solid fa-id-card',
            color: 'indigo'
        }) }}
        <div>
            {{ include('typeDiplome/licence/affiche/_identiteFormation.html.twig') }}
        </div>
    </section>

    <section
            data-scroll-spy-target="section"
            class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
            id="identite_formation">
        {{ include('communs/_header_show.html.twig', {
            title: 'Localisation',
            icon: 'fa-solid fa-map-marker-alt',
            color: 'indigo'
        }) }}
        <div>
            {{ include('typeDiplome/licence/affiche/_localisationFormation.html.twig') }}
        </div>
    </section>

    <section
            data-scroll-spy-target="section"
            class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
            id="presentation_formation">
        {{ include('communs/_header_show.html.twig', {
            title: 'Présentation de la formation',
            icon: 'fa-solid fa-map-marker-alt',
            color: 'indigo'
        }) }}
        <div>
            {{ include('typeDiplome/licence/affiche/_presentationFormation.html.twig') }}
        </div>
    </section>

    {% if formation.isHasParcours == false and formation.parcours|length == 1 %}
        <section data-scroll-spy-target="section"
                 class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                 id="competences">
            {{ include('communs/_header_show.html.twig', {
                title: 'Compétences Acquises',
                icon: 'fa-solid fa-tasks',
                color: 'indigo'
            }) }}
            <div>
                {{ include('typeDiplome/licence/affiche/_competences.html.twig', {parcours:formation.parcours[0]}) }}
            </div>
        </section>

        <section class="scroll-section" id="structure">
            <h3 class="small-title">Structure</h3>
            <div class="card mb-5">
                <div class="card-body">
                    {% if (print is not defined or print == false) %}
                        {{ component('commentaire', {
                            commentaires: formation.commentaires,
                            id: formation.id,
                            type: 'formation',
                            zone: 'structure',
                        }) }}
                    {% endif %}
                    {{ render(controller('App\\Controller\\StructureShowController::parcoursShow', {
                        parcours: formation.parcours[0].id,
                        hasLastVersion: hasLastVersion ?? false,
                    })) }}

                </div>
            </div>
        </section>

        <section data-scroll-spy-target="section"
                 class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                 id="admission">
            {{ include('communs/_header_show.html.twig', {
                title: 'Admission',
                icon: 'fa-solid fa-user-check',
                color: 'indigo'
            }) }}
            <div>
                {{ include('typeDiplome/licence/affiche/_admission.html.twig', {parcours:formation.parcours[0]}) }}
            </div>
        </section>

        <section data-scroll-spy-target="section"
                 class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                 id="inscription}">
            {{ include('communs/_header_show.html.twig', {
                title: 'Inscription',
                icon: 'fa-solid fa-pen-to-square',
                color: 'indigo'
            }) }}

            <div>
                {{ include('typeDiplome/licence/affiche/_inscription.html.twig', {parcours:formation.parcours[0]}) }}
            </div>
        </section>

        <section data-scroll-spy-target="section"
                 class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                 id="et_apres">
            {{ include('communs/_header_show.html.twig', {
                title: 'Et après...',
                icon: 'fa-solid fa-briefcase',
                color: 'indigo'
            }) }}
            <div>
                {{ include('typeDiplome/formation/_etApres.html.twig', {parcours:formation.parcours[0]}) }}
            </div>
        </section>

        <section data-scroll-spy-target="section"
                 class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                 id="contacts">
            {{ include('communs/_header_show.html.twig', {
                title: 'Contacts pédagogiques',
                icon: 'fa-solid fa-address-book',
                color: 'indigo'
            }) }}
            <div>
                {{ include('typeDiplome/formation/_contacts.html.twig', {parcours:formation.parcours[0]}) }}
            </div>
        </section>
    {% else %}
        {% for parcours in formation.parcours %}
            {% set colors = ['amber', 'indigo', 'red', 'green', 'teal'] %}
            {% set color = cycle(colors, loop.index0) %}
            <h3 class="text-{{ color }}-600 font-black uppercase tracking-tighter italic text-3xl mb-8 mt-8">
                Parcours {{ parcours.libelle }} {{ parcours.typeParcours|badgeTypeParcours }}</h3>


            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="presentation_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Présentation du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-book-open',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/licence/affiche/_presentationParcours.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="descriptif_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Descriptif du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-book-open',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/licence/affiche/_descriptifParcours.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="localisation_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Localisation du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-map-marker-alt',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/licence/affiche/_localisationParcours.html.twig', {parcours:parcours}) }}

                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="competences_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Compétences Acquises du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-tasks',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/licence/affiche/_competences.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            {% if isVersioning is not defined or isVersioning == false %}
                <section data-scroll-spy-target="section"
                         class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                         id="structure_{{ parcours.id }}">
                    {{ include('communs/_header_show.html.twig', {
                        title: 'Structure du parcours ' ~ parcours.libelle,
                        icon: 'fa-solid fa-sitemap',
                        color: color
                    }) }}

                    <div>
                        {{ render(controller('App\\Controller\\StructureShowController::parcoursShow', {
                            parcours: parcours.id,
                            hasLastVersion: hasLastVersion ?? false,
                        })) }}
                    </div>
                </section>
            {% else %}
                {# Visionnage d'une version #}
                <section data-scroll-spy-target="section"
                         class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                         id="structure_{{ parcours.id }}">
                    {{ include('communs/_header_show.html.twig', {
                        title: 'Structure du parcours ' ~ parcours.libelle,
                        icon: 'fa-solid fa-sitemap',
                        color: color
                    }) }}
                    <div>
                        {{ include('typeDiplome/' ~ constant('TEMPLATE_FOLDER', typeD) ~ '/structure/_structure.html.twig',
                            {
                                parcours: parcours,
                                dto: dto,
                                hasLastVersion: false,
                                diffStructure: null
                            }
                        ) }}
                    </div>
                </section>
            {% endif %}
            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="admission_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Admission du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-user-check',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/licence/affiche/_admission.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="inscription_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Inscription du parcours ' ~ parcours.libelle,
                    icon: 'fa-solid fa-pen-to-square',
                    color: color
                }) }}

                <div>
                    {{ include('typeDiplome/licence/affiche/_inscription.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="et_apres_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Et après...',
                    icon: 'fa-solid fa-briefcase',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/formation/_etApres.html.twig', {parcours:parcours}) }}
                </div>
            </section>

            <section data-scroll-spy-target="section"
                     class="bg-white rounded-sm p-4 mb-4 border border-slate-200 shadow-sm scroll-mt-32"
                     id="contacts_{{ parcours.id }}">
                {{ include('communs/_header_show.html.twig', {
                    title: 'Contacts pédagogiques',
                    icon: 'fa-solid fa-address-book',
                    color: color
                }) }}
                <div>
                    {{ include('typeDiplome/formation/_contacts.html.twig', {parcours:parcours}) }}
                </div>
            </section>
        {% endfor %}
    {% endif %}
</div>
